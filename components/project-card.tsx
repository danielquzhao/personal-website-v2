"use client";

import { Project } from "@/types";
import Link from "next/link";
import Image from "next/image";
import { Github, ExternalLink } from "lucide-react";

interface ProjectCardProps {
  project: Project;
}

export function ProjectCard({ project }: ProjectCardProps) {
  const externalLink = project.links?.website || project.links?.dorahacks;

  return (
    <div className="space-y-3">
      {/* Image Link */}
      <Link href={`/projects/${project.id}`} className="block group/image">
        <div className="relative overflow-hidden rounded-lg aspect-[16/10] bg-gradient-to-br from-primary/20 to-secondary/20 hover:scale-[1.02] transition-all duration-300">
          {project.image ? (
            <Image
              src={project.image}
              alt={project.title}
              fill
              className="object-cover"
              sizes="(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"
            />
          ) : (
            <div className="absolute inset-0 flex items-center justify-center">
              <span className="text-8xl font-bold text-primary/10">
                {project.title.charAt(0)}
              </span>
            </div>
          )}
        </div>
      </Link>

      {/* Text content block */}
      <div className="space-y-1">
        <div className="flex items-center justify-between">
          <Link href={`/projects/${project.id}`} className="block group/title">
            <h3 className="text-lg font-semibold group-hover/title:text-primary transition-colors">
              {project.title}
            </h3>
          </Link>

          <div className="flex items-center gap-3">
            {project.links?.cdm && (
              <a
                href={project.links.cdm}
                target="_blank"
                rel="noopener noreferrer"
                className="text-muted-foreground hover:text-foreground transition-all duration-200 hover:scale-110"
                title="CDM"
              >
                <div className="w-[1.8rem] h-[1.8rem] flex items-center justify-center">
                  <svg
                    viewBox="0 0 1550 407"
                    className="w-[1.8rem] h-[14px] transition-all duration-300 scale-y-[1.4]"
                    fill="currentColor"
                  >
                    <path d="M0 0 C1.52115571 7.78827136 2.62559223 15.56482057 3.5078125 23.44921875 C3.63815887 24.58784866 3.76850525 25.72647858 3.90280151 26.89961243 C4.3136237 30.49519481 4.71939647 34.09132558 5.125 37.6875 C5.40461272 40.14261632 5.68455748 42.59769486 5.96484375 45.05273438 C6.64706638 51.03472495 7.32515725 57.01717263 8 63 C2.44483491 63.76291927 -3.01968708 64.2043726 -8.62109375 64.39453125 C-10.34938516 64.46090904 -12.07765571 64.52783135 -13.8059082 64.59521484 C-15.1764183 64.64751251 -15.1764183 64.64751251 -16.57461548 64.7008667 C-58.45280916 66.33383546 -100.3624751 69.1724741 -142 74 C-143.00939636 74.11688171 -144.01879272 74.23376343 -145.05877686 74.35418701 C-178.22175072 78.21743848 -211.17133797 82.9082659 -244 89 C-244.88453857 89.16371094 -245.76907715 89.32742187 -246.68041992 89.49609375 C-271.35547004 94.07960992 -295.76214682 99.48544217 -320 106 C-320.76272217 106.20411499 -321.52544434 106.40822998 -322.3112793 106.61853027 C-355.82717808 115.61158351 -388.87051999 126.5181576 -420 142 C-420.90443848 142.44408203 -421.80887695 142.88816406 -422.74072266 143.34570312 C-450.60021023 157.10958716 -481.98959577 176.10836816 -493 206.9375 C-496.52732572 221.02374846 -493.61530742 235.24438761 -486.4375 247.625 C-481.96743618 254.44205466 -476.74536801 260.25463199 -471 266 C-470.20851563 266.79148437 -469.41703125 267.58296875 -468.6015625 268.3984375 C-461.72242733 274.91190435 -453.99787143 279.98794866 -446 285 C-445.36239746 285.40331543 -444.72479492 285.80663086 -444.06787109 286.22216797 C-391.99928798 318.88516537 -328.83892051 335.2021715 -269.16967773 347.55004883 C-267.03738764 347.99224649 -264.90630864 348.43991425 -262.77539062 348.88867188 C-221.94393691 357.44970312 -180.4636841 363.46790541 -139 368 C-137.59947388 368.15341858 -137.59947388 368.15341858 -136.1706543 368.30993652 C-107.57996407 371.41658323 -78.95561456 373.58536642 -50.25 375.25 C-49.53474277 375.29185047 -48.81948555 375.33370094 -48.08255386 375.37681961 C-30.54315135 376.40204293 -13.01218045 377.20855226 4.5524292 377.64581299 C13.72100765 377.88320938 22.85153935 378.37268454 32 379 C32.30486508 388.45081733 31.12355521 397.63664689 30 407 C14.23881348 407.15475485 -1.49796448 406.68872488 -17.25 406.1875 C-18.28523363 406.15483662 -18.28523363 406.15483662 -19.34138107 406.12151337 C-126.86487305 402.72403787 -234.43747788 394.84297927 -381.18981934 369.53131104 C-383.87628588 369.0233902 -386.56352554 368.51977167 -389.25097656 368.01708984 C-464.08569164 353.96582393 -540.3804852 334.72918227 -609 301 C-610.4854834 300.27562744 -610.4854834 300.27562744 -612.00097656 299.53662109 C-630.90652478 290.24516771 -648.44718763 279.03152733 -665 266 C-665.67675781 265.47664063 -666.35351562 264.95328125 -667.05078125 264.4140625 C-668.41263548 263.33084051 -669.7172635 262.17584179 -671 261 C-671 260.34 -671 259.68 -671 259 C-671.56332031 258.76796875 -672.12664063 258.5359375 -672.70703125 258.296875 C-685.03351815 251.3251652 -694.79633062 233.01618109 -699 220 C-703.60004666 203.23923453 -701.72793909 186.9761443 -693.25 171.8125 C-673.87212088 138.95416275 -638.57917954 118.74148578 -605 103 C-604.23993652 102.63664551 -603.47987305 102.27329102 -602.69677734 101.89892578 C-517.48781885 61.25976898 -421.40857649 41.74553437 -146.75280762 6.29882812 C-143.41998462 6.03344249 -140.08741919 5.76504727 -136.75488281 5.49609375 C-112.64323897 3.56883401 -88.49574747 2.4504646 -64.33229828 1.41537094 C-61.9833061 1.31446765 -59.63438197 1.21208321 -57.28546143 1.10952759 C-38.17668435 0.28106776 -19.13033255 -0.20708585 0 0 Z " transform="translate(701,0)" />
                    <path d="M0 0 C20.15615992 -0.19489874 40.24064331 0.33112693 60.375 1.1875 C61.93496691 1.2527903 63.49493396 1.31807753 65.05490112 1.38336182 C99.42766668 2.83476423 133.71276751 5.20482491 168 8 C169.24376404 8.10054687 170.48752808 8.20109375 171.76898193 8.3046875 C280.51593166 17.1202933 389.51858367 33.12943945 519 70 C519.66978882 70.21058044 520.33957764 70.42116089 521.02966309 70.63812256 C580.87206081 89.48409671 662.72416217 115.38222358 694.30859375 174.53125 C701.0748392 188.40752243 703.75042612 204.77991566 699.375 219.8125 C695.76148759 229.96837172 691.03653053 238.83182126 684 247 C683.34386719 247.77730469 682.68773437 248.55460938 682.01171875 249.35546875 C671.39732546 261.5610508 659.58193566 271.29073289 646 280 C645.3080957 280.44698242 644.61619141 280.89396484 643.90332031 281.35449219 C613.04739744 301.15074017 579.37310901 315.03941862 544.96710205 327.2980957 C543.18220896 327.93498393 541.399335 328.57752381 539.61669922 329.22070312 C463.1648556 356.62591592 381.2510594 371.64070681 301 383 C299.21386094 383.25549017 297.4277282 383.51102453 295.64160156 383.76660156 C199.67947308 397.42468261 102.84639312 404.02126809 3.6875 406.6875 C2.97101288 406.70637268 2.25452576 406.72524536 1.5163269 406.74468994 C-8.65680629 407.00339878 -18.82453814 407.03529606 -29 407 C-30.76930905 397.6472275 -31.51662115 388.4905455 -32 379 C-20.01792225 378.07087615 -8.032941 377.64896491 3.97631836 377.24227905 C103.95049575 373.79244819 204.77995423 364.20574085 376 318 C377.38566162 317.50983398 377.38566162 317.50983398 378.79931641 317.00976562 C419.66081848 302.37768244 471.19827574 280.70180719 490.875 239.125 C495.9158063 227.94175424 495.01414049 215.39497946 491 204 C485.50668205 190.35278275 476.66898768 178.98668682 465 170 C464.23526367 169.40952881 464.23526367 169.40952881 463.45507812 168.80712891 C438.88982102 149.97887708 411.79783406 137.11918765 383 126 C382.02643555 125.61779297 381.05287109 125.23558594 380.04980469 124.84179688 C359.19297201 116.70569496 337.59413039 110.81789737 316 105 C315.17026672 104.77614624 314.34053345 104.55229248 313.48565674 104.32165527 C265.49463825 91.43643501 216.25425602 83.2628785 167 77 C165.44496765 76.80114197 165.44496765 76.80114197 163.85852051 76.5982666 C112.27916265 70.02657772 60.36039525 65.85606368 8.37866211 64.34106445 C7.3706958 64.30972412 6.36272949 64.27838379 5.32421875 64.24609375 C4.0261731 64.21020142 4.0261731 64.21020142 2.7019043 64.17358398 C-0.5647322 63.96371875 -3.7655066 63.49491015 -7 63 C-6.42725737 49.39515968 -4.71646995 35.99146199 -2.9375 22.5 C-2.65251181 20.30865651 -2.36800324 18.11725059 -2.08398438 15.92578125 C-1.39484145 10.61645626 -0.69981755 5.30792797 0 0 Z " transform="translate(849,0)" />
                    <path d="M0 0 C96.77421472 2.80487252 196.14313639 8.3711007 364.3125 77.3125 C373.74068891 88.3669063 376.99047116 100.73402019 376 115 C373.55648517 130.39414345 362.70659595 142.15753668 350.8984375 151.4375 C283.52837023 199.58285825 188.38803743 207.74415392 66 219 C65.28428833 219.04040405 64.56857666 219.08080811 63.83117676 219.12243652 C35.57336166 220.71289639 7.31036466 222.21447246 -21 222 C-21.99 213.42 -22.98 204.84 -24 196 C-18.05613281 195.72736328 -18.05613281 195.72736328 -11.9921875 195.44921875 C42.72343758 192.90360558 97.14189242 189.55800769 151 179 C152.63171143 178.68313232 152.63171143 178.68313232 154.29638672 178.35986328 C207.95853282 167.98570799 207.95853282 167.98570799 250 136 C253.62738562 129.81069847 255.09418228 124.15166564 254 117 C250.9923284 106.28628224 242.81572646 99.1857014 234 93 C233.3090625 92.50886719 232.618125 92.01773438 231.90625 91.51171875 C173.90601377 53.62776164 81.65167555 52.78501685 14.38208008 49.64575195 C13.61283707 49.6090892 12.84359406 49.57242645 12.05104065 49.53465271 C10.62786444 49.46745088 9.20455997 49.40288154 7.78111267 49.34169006 C3.14132907 49.12302665 -1.40070239 48.61984971 -6 48 C-5.35968854 39.17886715 -4.38011071 30.41449342 -3.27050781 21.64257812 C-2.99693308 19.47570821 -2.72872182 17.30821733 -2.4609375 15.140625 C-2.28677457 13.74996036 -2.11230679 12.35933385 -1.9375 10.96875 C-1.78152344 9.72544922 -1.62554688 8.48214844 -1.46484375 7.20117188 C-1.10450014 4.71964591 -0.63226646 2.41647718 0 0 Z " transform="translate(834,121)" />
                    <path d="M0 0 C2.1167074 2.1167074 1.82092671 6.42236268 2.19140625 9.34765625 C2.30097153 10.19291367 2.4105368 11.03817108 2.52342224 11.90904236 C2.75497995 13.70528143 2.98432909 15.50180634 3.21166992 17.29858398 C3.55805323 20.0274674 3.91426392 22.75493863 4.27148438 25.48242188 C4.49539301 27.22908968 4.71871829 28.97583239 4.94140625 30.72265625 C5.04763809 31.5313063 5.15386993 32.33995636 5.26332092 33.17311096 C5.88478531 38.15745628 6.09717307 42.97676167 6 48 C-0.17590035 48.8532019 -6.30653449 49.29958521 -12.53125 49.61328125 C-14.62185799 49.72507391 -16.71243293 49.83748593 -18.80297852 49.95043945 C-19.89442169 50.00898102 -20.98586487 50.06752258 -22.11038208 50.12783813 C-68.61061881 52.66110904 -115.44588719 56.94349712 -161 67 C-161.9792041 67.21591797 -162.9584082 67.43183594 -163.96728516 67.65429688 C-211.03691461 78.07472365 -211.03691461 78.07472365 -249 106 C-252.93348114 112.49565693 -254.82235896 118.3873056 -254 126 C-250.71897373 138.80786158 -241.68543969 145.65387908 -230.88671875 152.30078125 C-228.62380087 153.60909724 -226.3302254 154.81538009 -224 156 C-222.95714844 156.53367187 -221.91429687 157.06734375 -220.83984375 157.6171875 C-148.29874491 193.13785614 -55.06700661 192.78161921 24 196 C23.84466637 198.38938565 23.68826152 200.77869325 23.53125 203.16796875 C23.46599121 204.17434387 23.46599121 204.17434387 23.39941406 205.2010498 C22.48769181 219.02461638 22.48769181 219.02461638 21 222 C6.64082212 222.12385381 -7.65578731 221.76537178 -22 221.125 C-23.04845093 221.07887573 -24.09690186 221.03275146 -25.17712402 220.98522949 C-30.50830369 220.75025247 -35.83921876 220.51019423 -41.16992188 220.26464844 C-44.69696156 220.10271733 -48.22403916 219.94725701 -51.75195312 219.80566406 C-107.79739392 217.55560132 -163.985067 210.90817427 -219 200 C-220.29147949 199.74605469 -221.58295898 199.49210938 -222.91357422 199.23046875 C-270.53153407 189.76885792 -337.89646377 175.92440508 -367.89453125 133.30859375 C-375.02453804 122.03567775 -377.43292017 110.15137966 -375 97 C-370.70772179 79.80518488 -355.84914282 67.87913623 -341.3605957 59.16259766 C-263.69421226 13.87501526 -159.62794264 8.17117538 -19.1953125 0.515625 C-17.94772659 0.46272308 -16.70014069 0.40982117 -15.41474915 0.35531616 C-14.25968369 0.30799347 -13.10461823 0.26067078 -11.91455078 0.21191406 C-10.91223419 0.1706842 -9.9099176 0.12945435 -8.87722778 0.0869751 C-5.9114518 -0.0026767 -2.96646897 -0.08344129 0 0 Z " transform="translate(716,121)" />
                  </svg>
                </div>
              </a>
            )}
            {project.links?.github && (
              <a
                href={project.links.github}
                target="_blank"
                rel="noopener noreferrer"
                className="text-muted-foreground hover:text-foreground transition-all duration-200 hover:scale-110"
              >
                <Github className="w-5 h-5" />
              </a>
            )}
            {externalLink && (
              <a
                href={externalLink}
                target="_blank"
                rel="noopener noreferrer"
                className="text-muted-foreground hover:text-foreground transition-all duration-200 hover:scale-110"
              >
                <ExternalLink className="w-5 h-5" />
              </a>
            )}
          </div>
        </div>

        <Link href={`/projects/${project.id}`} className="block">
          <p className="text-sm text-muted-foreground">
            {project.description}
          </p>
        </Link>
      </div>
    </div>
  );
}

